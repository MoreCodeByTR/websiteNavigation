<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>moreCode's World</title>
    <link rel="Shortcut Icon" href="./11.ico" type="image/x-icon" />

    <!-- reactComponent -->
    <script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
    <script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
</head>
<link type="text/css" rel="styleSheet" href="css/main.css" />
<style>
    #clock img {
        transform: translateY(8px);
        margin-right: 10px;
    }
</style>
<style>
    .addData {
        position: relative;
        width: 400px;
        height: 150px;
        display: none;
        margin-top: 15px;
        margin-left: 40px;
        border-radius: 10px;
        border: 1px solid black;

    }


    form button {
        width: 80px;
        height: 32px;
        border-radius: 5px;
        background-color: rgb(138, 143, 160);
        font-size: 22px;
        margin-top: 15px;
    }

    form {
        text-align: left;
        font-size: 20px;
    }

    form input {
        width: 80%;
        height: 20px;
        border-radius: 5px;
        background-color: rgb(189, 199, 194);
    }
</style>

<body>
    <div id="clock" style="position: absolute;top: -10px; right: 15px;"></div>
    <div id="header">
        <div id="photo">
            <img src="pic/photo2.jpg" alt="头像" title="天才头像">
        </div>
        <a id="myname">MoreCode</a>
        <div id="slogan"> Knowledge is infinite</div>
    </div>
    <div id="leftSide">
        <div id="personalData">
            <a href="https://github.com/MoreCodeByTR" title="https://github.com/MoreCodeByTR" target="_blank"> <svg
                    height="32" class="octicon octicon-mark-github text-white" viewBox="0 0 16 16" version="1.1"
                    width="32" aria-hidden="true">
                    <path fill-rule="evenodd"
                        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                    </path>
                </svg></a>
            <a href="#" title="761170536@qq.com"> <svg t="1585830985357" class="icon" viewBox="0 0 1024 1024"
                    version="1.1" width="32" height="32">
                    <defs>
                        <style type="text/css"></style>
                    </defs>
                    <path
                        d="M960 224c0-1.344-0.64-2.496-0.768-3.84-0.256-2.176-0.576-4.224-1.28-6.336-0.704-2.112-1.792-4.032-2.88-5.888-0.64-1.088-0.896-2.368-1.664-3.456-0.448-0.576-1.088-0.832-1.536-1.344-1.472-1.728-3.2-3.008-5.056-4.352-1.6-1.152-3.072-2.368-4.8-3.264-1.728-0.896-3.648-1.28-5.568-1.856-2.176-0.576-4.288-1.152-6.528-1.28C929.28 192.32 928.704 192 928 192l-832 0C95.296 192 94.656 192.384 93.952 192.384 91.776 192.576 89.792 193.088 87.68 193.664c-1.984 0.576-3.904 1.024-5.696 1.92-1.728 0.832-3.2 2.048-4.736 3.2C75.392 200.128 73.664 201.472 72.128 203.2 71.68 203.712 71.04 203.968 70.656 204.48 69.824 205.568 69.632 206.848 68.928 207.936 67.84 209.856 66.752 211.712 66.048 213.824 65.344 215.936 65.024 217.984 64.768 220.16 64.64 221.504 64 222.656 64 224l0 576c0 0.576 0.32 1.024 0.32 1.6 0.128 2.176 0.704 4.224 1.28 6.336 0.512 1.984 0.832 3.904 1.728 5.696 0.768 1.664 1.984 3.008 3.008 4.48 1.408 1.92 2.688 3.84 4.48 5.44 0.384 0.32 0.512 0.832 0.96 1.152 1.408 1.152 3.072 1.728 4.608 2.624 1.408 0.832 2.624 1.728 4.16 2.304C88.256 831.104 92.096 832 96 832l832 0c3.904 0 7.744-0.896 11.52-2.304 1.536-0.576 2.752-1.536 4.16-2.304 1.536-0.896 3.2-1.472 4.608-2.624 0.384-0.32 0.576-0.832 0.96-1.152 1.792-1.6 3.072-3.52 4.48-5.44 1.088-1.536 2.24-2.88 3.008-4.48 0.832-1.792 1.216-3.776 1.728-5.696 0.576-2.112 1.152-4.16 1.28-6.336 0-0.576 0.32-1.024 0.32-1.6L960.064 224zM128 289.024l211.584 162.752L128 710.4 128 289.024zM512 503.616 190.08 256l643.84 0L512 503.616zM390.336 490.752l102.208 78.592C498.24 573.824 505.152 576 512 576s13.76-2.176 19.52-6.656l102.208-78.592L860.48 768 163.52 768 390.336 490.752zM684.416 451.776 896 289.024 896 710.4 684.416 451.776z"
                        p-id="4789"></path>
                </svg></a>

            <a href="#" title="761170536"> <svg t="1585830224701" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    p-id="2244" width="32" height="32">
                    <defs>
                        <style type="text/css"></style>
                    </defs>
                    <path
                        d="M116.435 593.714c-33.54 78.964-38.985 154.297-12.059 168.37 18.572 9.696 47.686-12.382 74.936-52.909 10.791 44.157 37.493 84.137 75.633 116.21-40.004 14.768-66.135 38.886-66.135 66.232 0 44.954 70.709 81.302 157.978 81.302 78.716 0 143.907-29.538 155.94-68.371 3.232-0.049 15.663-0.049 18.796 0 12.083 38.784 77.324 68.371 155.989 68.371 87.267 0 157.978-36.398 157.978-81.302 0-27.297-26.105-51.464-66.135-66.232 38.089-32.123 64.889-72.053 75.631-116.21 27.251 40.527 56.29 62.605 74.887 52.909 26.95-14.073 21.631-89.456-12.032-168.37-26.355-62.058-62.11-107.754-89.457-117.848 0.398-3.929 0.596-7.958 0.596-11.935 0-23.968-6.661-46.146-18.049-64.196 0.199-1.393 0.199-2.834 0.199-4.227 0-11.038-2.636-21.381-7.114-30.332-6.909-161.309-111.93-289.402-281.866-289.402-170.036 0-275.106 128.093-281.943 289.402-4.525 9.001-7.135 19.343-7.135 30.332 0 1.393 0.099 2.835 0.15 4.227-11.288 18.05-17.951 40.178-17.951 64.196 0 3.978 0.15 7.955 0.498 11.935-27.151 10.094-63.028 55.841-89.333 117.848z"
                        p-id="2245" fill="#000000"></path>
                </svg></a>
            <svg t="1585830515846" class="icon" viewBox="0 0 1024 1024" version="1.1" width="32" height="32">
                <defs>
                    <style type="text/css"></style>
                </defs>
                <path d="M511.609097 961.619254" p-id="3944" fill="#2c2c2c"></path>
                <path
                    d="M889.618407 787.083126c41.7468-38.149878 67.083861-88.273463 67.083861-143.163607 0-95.53382-76.727499-176.60423-183.177949-205.317179-6.348592-153.081491-162.17152-275.610128-353.493963-275.610128-195.352223 0-353.714997 127.743406-353.714997 285.319258 0 72.363098 33.395598 138.433886 88.432075 188.729385 17.22122 15.737426-2.939959 58.810431-27.714202 94.395904 41.866526-11.564383 86.519516-19.088754 125.611859-19.088754 18.300808 0 35.388998 1.65264 50.386574 5.305843 36.623106 10.348696 75.996858 15.981996 117.000737 15.981996 7.963369 0 15.862269-0.239454 23.699772-0.657986 42.0937 75.114768 135.796826 127.388319 244.639766 127.388319 31.104415 0 60.974723-4.26821 88.757486-12.126178 11.382235-2.77623 24.338315-4.028757 38.222533-4.028757 29.65439 0 63.530942 5.709025 95.28925 14.483876-18.787902-26.993794-34.088376-59.664891-21.020756-71.607898L889.620453 787.083126zM420.035472 681.516812c-35.33067 0-69.922513-4.716418-102.824877-14.014178l-0.907673-0.254803-0.916882-0.225127c-18.48398-4.50971-39.590694-6.795776-62.738903-6.795776-13.301957 0-26.589588 0.730641-39.585577 1.979074 2.76088-30.538527-8.94165-50.646494-23.152303-63.637366-22.955828-20.97573-40.786938-44.560892-52.993958-70.099545-12.261255-25.645077-18.478863-52.615335-18.478863-80.157621 0-60.140729 29.904077-117.384477 84.204797-161.187099 27.724435-22.364357 60.207243-39.98876 96.537683-52.384068 38.179554-13.029758 78.840626-19.632129 120.857579-19.632129s82.678024 6.608511 120.857579 19.632129c36.329417 12.395308 68.812225 30.019711 96.537683 52.384068 48.465828 39.09132 77.472466 88.892563 83.153862 141.900847l0.005117 0c-10.565636-1.01819-21.313422-1.561565-32.218796-1.561565-148.19725 0-268.334421 96.90812-268.334421 216.45382 0 12.8077 1.39272 25.361621 4.033873 37.559431 0 0 0 0 0-0.005117C422.719604 681.487136 421.38112 681.516812 420.035472 681.516812L420.035472 681.516812zM854.454536 748.621139c-8.422833 7.698333-19.530822 21.845541-21.547759 43.989887-5.820566-0.330528-11.689227-0.5137-17.557888-0.5137-18.566868 0-35.58138 1.854231-50.573839 5.513574l-0.916882 0.225127-0.911766 0.254803c-23.844058 6.743588-48.936549 10.157337-74.576509 10.157337-30.485315 0-59.96779-4.783956-87.620593-14.21577-26.167986-8.9263-49.516764-21.585621-69.403696-37.625946-38.174438-30.79333-59.198264-70.739111-59.198264-112.485911 0-41.7468 21.023826-81.697697 59.198264-112.491027 19.886933-16.040325 43.23571-28.699646 69.403696-37.626969 27.65178-9.431813 57.134255-14.214746 87.620593-14.214746 30.484292 0 59.966767 4.782933 87.618547 14.214746 26.167986 8.93244 49.516764 21.587668 69.399603 37.626969 38.174438 30.79333 59.20031 70.744227 59.20031 112.491027 0 19.002796-4.303003 37.636179-12.789281 55.381331C883.235023 717.207685 870.672916 733.800595 854.454536 748.621139L854.454536 748.621139zM854.454536 748.621139"
                    p-id="3945" fill="#2c2c2c"></path>
                <path
                    d="M264.813225 392.537188c0.284479-30.082132 19.104103-54.31914 42.286082-54.31914 23.348778 0 42.284035 24.611537 42.284035 54.966892 0 30.361495-18.930141 54.973032-42.284035 54.973032-23.181979 0-42.001603-24.241101-42.280966-54.286394L264.813225 392.537188zM264.813225 392.537188"
                    p-id="3946" fill="#2c2c2c"></path>
                <path
                    d="M484.761636 392.537188c0.284479-30.082132 19.104103-54.31914 42.280966-54.31914 23.353894 0 42.284035 24.611537 42.284035 54.966892 0 30.361495-18.930141 54.973032-42.284035 54.973032-23.176862 0-41.996486-24.241101-42.280966-54.286394L484.761636 392.537188zM484.761636 392.537188"
                    p-id="3947" fill="#2c2c2c"></path>
                <path
                    d="M582.250994 603.694375c0.284479-23.119557 14.763239-41.71917 32.584116-41.71917 17.999956 0 32.589233 18.97005 32.589233 42.366923 0 23.403013-14.589276 42.366923-32.589233 42.366923-17.821901 0-32.30066-18.599613-32.584116-41.679261L582.250994 603.694375zM582.250994 603.694375"
                    p-id="3948" fill="#2c2c2c"></path>
                <path
                    d="M739.250724 603.694375c0.284479-23.119557 14.767332-41.71917 32.589233-41.71917 17.999956 0 32.594349 18.97005 32.594349 42.366923 0 23.403013-14.594393 42.366923-32.594349 42.366923-17.821901 0-32.304753-18.599613-32.589233-41.679261L739.250724 603.694375zM739.250724 603.694375"
                    p-id="3949" fill="#2c2c2c"></path>
            </svg>
        </div>
    </div>
    <div id="middleSide"></div>
    <div id="rightSide">
        <div id="web">
            <div id="learning">
                <a id="title">1.常用网站</a>
                <ul id="ul_learning">
                </ul>
            </div>
            <div id="share">
                <a id="title">2.网站分享</a>
                <ul id="ul_share">
                </ul>
            </div>
            <div id="entertainment">
                <a id="title">3.娱乐</a>
                <ul id="ul_entertainment">
                </ul>
            </div>
        </div>
        <div id="article">
            <div id="blogs">
                <a id="title">博文收藏</a>
                <ul id="article_learning">
                </ul>
                <a href="#dataPlane" style="margin-left: 60px;" onclick="switchShow()">添加<img src="./pic/add.png"></a>
                <div id="dataPlane" class="addData">
                    <form action="login" method="post" accept-charset="UTF-8" style="padding: 20px;">
                        Title: <input type="text" name="article_title" id="article_title"><br />
                        Href: <input type="text" name="article_href" id="article_href"><br />
                        <button onclick="postNewArticle()">提交</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div>
    </div>
</body>
<script>
    var ul = document.getElementById("ul_learning");
    var ul2 = document.getElementById("ul_share");
    var ul3 = document.getElementById("ul_entertainment");

    var ul_article = document.getElementById("article_learning");
    // var li = document.createElement("li");
    // li.innerHTML = "<a href='https://www.baidu.com' target='_blank'>百度</a>";
    // ul.appendChild(li);

    var url = "./data/web.json"
    var request = new XMLHttpRequest();
    request.open("get", url);/*设置请求方法与路径*/
    request.send(null);/*不发送数据到服务器*/
    request.onload = function () {/*XHR对象获取到返回信息后执行*/
        if (request.status == 200) {/*返回状态为200，即为数据获取成功*/
            var json = JSON.parse(request.responseText);
            for (var i = 0; i < json.learning.length; i++) {
                var li = document.createElement("li");
                li.innerHTML = "<a href='" + json.learning[i].href + "' target='_blank'>" + json.learning[i].name + "<img title='no icon' src='" + json.learning[i].ico + "' ></a>";
                ul.appendChild(li);
            }
            for (var i = 0; i < json.share.length; i++) {
                var li = document.createElement("li");
                li.innerHTML = "<a href='" + json.share[i].href + "' target='_blank'>" + json.share[i].name + "<img src='" + json.share[i].ico + "' ></a>";
                ul2.appendChild(li);
            }
            for (var i = 0; i < json.entertainment.length; i++) {
                var li = document.createElement("li");
                li.innerHTML = "<a href='" + json.entertainment[i].href + "' target='_blank'>" + json.entertainment[i].name + "<img src='" + json.entertainment[i].ico + "' ></a>";
                ul3.appendChild(li);
            }
            console.log(json);
            sameHeight();
        }
    }

    getArticle();
    function postNewArticle() {
        var article_title = document.getElementById('article_title').value;
        var article_href = document.getElementById('article_href').value;
        console.log(article_titl+article_href)
        var xhr = "";
        if (window.XMLHttpRequest) {
            xhr = new XMLHttpRequest();
        } else if (window.ActiveXObject) {
            xhr = new ActiveXObject();
        }//处理浏览器兼容
        xhr.open("post", "login", true);//请求的方式、地址、异步
        xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");//post请求设置请求头
        xhr.send("article_title=" + article_title + "&article_href=" + article_href);
        xhr.onreadystatechange = function () {
            //接收后台传回的数据  更新页面
            if (xhr.readyState == 200 ) {
               getArticle();
            }
        }
    }

    // 更新article
    function getArticle() {
        var url = "./data/article.json"
        var request2 = new XMLHttpRequest();
        request2.open("get", url);/*设置请求方法与路径*/
        request2.send(null);/*不发送数据到服务器*/
        request2.onload = function () {/*XHR对象获取到返回信息后执行*/
            if (request2.status == 200) {/*返回状态为200，即为数据获取成功*/
                var json = JSON.parse(request2.responseText);
                for (var i = 0; i < json.article.length; i++) {
                    var li = document.createElement("li");
                    li.innerHTML = "<a href='" + json.article[i].href + "' target='_blank'>" + json.article[i].name + "</a>";
                    ul_article.appendChild(li);
                }
                console.log(json);
                sameHeight();
            }
        }
    }

    //显示隐藏 
    function switchShow() {
        var div = document.getElementById('dataPlane');
        if (div.style.display == 'block') {
            div.style.display = 'none';
        } else {
            div.style.display = 'block';
        }
        console.log(div.style.display);
        sameHeight();
    }


    function sameHeight() {
        var left = document.getElementById('leftSide');
        var middle = document.getElementById('middleSide');
        var right = document.getElementById('rightSide');
        left.style.height = right.offsetHeight + 'px';
        middle.style.height = right.offsetHeight + 'px';
    }

</script>

<script type="text/babel">

    class Clock extends React.Component {
        constructor(props) {
            super(props);
            this.state = { date: new Date() };
        }

        componentDidMount() {
            this.timerID = setInterval(() => this.tick(), 1000);
        }

        componentWillUnmount() {
            clearInterval(this.timerID);
        }

        tick() {
            this.setState({
                date: new Date()
            });
        }

        render() {
            return (
                <div>
                    <h2><img src="./pic/icons/clock.png" alt="时钟" />{this.state.date.toLocaleTimeString()}</h2>
                </div>
            )
        }
    }

    ReactDOM.render(<Clock />, document.getElementById("clock"));

</script>

</html>